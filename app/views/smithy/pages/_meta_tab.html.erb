<%= f.inputs do %>
  <%= f.input :permalink, :hint => "This will be auto-created if blank. Only fill it in if you know what you're doing" %>
  <%= f.input :parent, :include_blank => false, :collection => tree_for_select unless !@page.parent_id? %>
  <%= f.input :show_in_navigation, :label => "Show page in site navigation" %>
  <%= f.input :template, :as => :select, :collection => Smithy::Template.templates, :include_blank => false %>
  <%= render :partial => "smithy/pages/page_fields", :locals => { :f => f } if File.exists?(Rails.root.join('app', 'views', 'smithy', 'pages', '_page_fields.html.erb')) %>

  <%= f.input(:external_link) unless @page.external_link? %>
  <%= f.input :cache_length, :hint => "In seconds (eg. 600 is 10 minutes)" %>
  <%= render :partial => "smithy/pages/meta_fields", :locals => { :f => f } if File.exists?(Rails.root.join('app', 'views', 'smithy', 'pages', '_meta_fields.html.erb')) %>
<% end %>